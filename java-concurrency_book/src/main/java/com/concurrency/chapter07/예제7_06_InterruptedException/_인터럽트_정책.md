#### 인터럽트 정책
스레드도 인터럽트 처리 정책이 있어야한다. 인터럽트 처리 정책은 인터럽트 요청이 들어왔을때,
해당 스레드가 인터럽트를 어떻게 처리해야 하는지에 대한 지침이다.
인터럽트가 걸렸다는 사실을 확인하고 나면, 어디에서 무슨 일을 하고, 인터럽트에 대비해 단일 연산으로 보호할 수 있는 범위가 어디까지인지도 확인행하며,
인터럽트가 발생했을 때 해당하는 인터럽트에 어떻게 재빠르게 대응할 지의 지침을 뜻한다.

작업(task), 스레드(thread)가 인터럽트 상황에서 서로 어떻게 동작해야 하는지를 명확하게 구분할 필요가 있다.
인터럽트 요청 하나로 중단시키고자 하는 대상이 여럿일 수 있는데, 
예를들어 스레드 풀에서 작업을 실행하는 스레드에 인터럽트를 거는 것은 '현재 작업을 중단하라'는 의미일 수도 있고,
'작업 스레드를 중단시켜라'는 뜻일 수도 있다.

작업은 그 작업을 소유하는 스레드에서 실행되지 않고, 스레드 풀과 같이 실행만 전담하는 스레드를 빌려 사용하게 된다.
실제로 작업을 실행하는 스레드를 갖고있지 않은 프로그램(스레드 풀에 작업을 넘기는 모든 클래스 등)은 작업을 실행하는 스레드의 인터럽트 상태를 그대로 유지해,
스레드를 소유하는 프로그램이 인터럽트 상태에 직접 대응할 수 있도록 해야한다.
스레드에서 실행되는 작업이 인터럽트를 처리하도록 되어있다고 해도, 스레드를 소유하는 프로그램이 대응할 수 있어야한다.
그렇기 때문에, 대부분의 블로킹 메서드에서 인터럽트가 걸렸을때 InterruptedException을 던진다.
블로킹 메서드를 스스로의 스레드에서 실행하는 일은 전혀 없기 때문에, 외부 작업이나 자바 내부의 라이브러리 메서드에서 
동시에 적용할 수 있는 가장 적절한 인터럽트 정책, 즉 실행중에 최대한 빨리 작업을 중단하고 자신을 호출한 스레드에게 전달받은 인터럽트 요청을 넘겨,
인터럽트에 대응해 추가적인 작업을 할 수 있도록 배려하는 정책을 구현하고 있다.

일단 인터럽트를 받았다는 사실을 기억해두고,
실행중이던 작업을 끝까지 마친 다음 요청받은 인터럽트에 대해 InteruuptedException을 던지거나 기타 다른 방법으로 인터럽트에 대응할 수도 있다.
이런 기법을 활용하면 작업을 실행하는 과정에서 비정상적으로 작업을 종료하느라 처리하던 데이터가 깨지거나 날아가는 오류 상황을 예방할 수 있다.
작업을 실행중인 스레드의 인터럽트 상태는 그대로 유지시켜야한다. 가장 일반적인 방법은 InterruptedException을 던지는 것이다.
`Thread.currentThread().interrupt()`
그렇게 하지 못한다해도, 위 코드로 스레드의 인터럽트 상태를 유지해야한다.

작업을 실행하는 스레드에서 인터럽트가 발생했을때 어떤 의미를 갖는지를 작업 클래스의 코드에서 아무렇게나 가정해서는 안되는 것처럼,
작업 취소 기능을 담당하는 코드 역시 각종 스레드에 대한 인터럽트 정책이 어떻다고 섣불리 가정하면 안된다.
스레드에는 해당 스레드를 소유하는 클래스에서만 인터럽트를 걸어야한다.
스레드를 소유하는 클래스는 shutdown과 같은 메서드에서 적절한 작업 중단 방법과 함께 스레드의 인터럽트 정책을 확립해 내부적으로 적용하고있기 때문이다.

자바는 직접 InterruptedException을 처리하도록한다.

`Thread.sleep()`
`BlockingQueue.put()`
위와 같은 인터럽트를 걸 수 있는 블로킹 메서드를 호출하는 경우에 InterruptedException이 발생했을때 처리할 수 있는 실질적 방법이 있다.
1) 발생한 예외를 호출 스택의 상위 메서드로 전달한다. 이 방법을 사용하는 메서드 역시 인터럽트를 걸 수 있는 블로킹 메서드가 된다.
2) 호출 스택의 상단에 위치한 메서드가 직접 처리할 수 있도록 인터럽트 상태를 유지한다.
`throws InterruptedException`

위와 같은 방법이 불가능할 경우, 인터럽트 상태를 유지할 수 있는 가장 일반적인 방법은 interrupt 메서드를 다시한번 호출하는 것이다.
catch 블록에서 InterruptedException을 잡아낸 다음 아무런 행동을 취하지 않는 행위는 하면안된다.
